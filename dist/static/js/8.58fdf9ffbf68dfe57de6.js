webpackJsonp([8],{492:function(e,t,n){function i(e){n(550)}var a=n(188)(n(527),n(567),i,"data-v-3c3e8534",null);e.exports=a.exports},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},created:function(){},methods:{},props:["title"]}},495:function(e,t,n){t=e.exports=n(187)(!0),t.push([e.i,".configAddHeader{text-align:left;margin-left:10px;margin-bottom:10px}.block{text-align:left;margin-left:40px;margin-top:10px}","",{version:3,sources:["D:/projectLY/frameWork1.0/src/components/common/configHeader.vue"],names:[],mappings:"AACA,iBACE,gBAAiB,AACjB,iBAAkB,AAClB,kBAAoB,CACrB,AACD,OACE,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CAClB",file:"configHeader.vue",sourcesContent:["\n.configAddHeader {\n  text-align: left;\n  margin-left: 10px;\n  margin-bottom: 10px;\n}\n.block {\n  text-align: left;\n  margin-left: 40px;\n  margin-top: 10px;\n}\n"],sourceRoot:""}])},496:function(e,t,n){var i=n(495);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(479)("6c758020",i,!0)},497:function(e,t,n){function i(e){n(496)}var a=n(188)(n(494),n(498),i,null,null);e.exports=a.exports},498:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block configAddHeader"},[n("span",{staticClass:"wrapper"},[n("el-button",{attrs:{type:"info"}},[n("i",{staticClass:"el-icon-edit"}),e._v("\n      "+e._s(e.title)+"\n    ")])],1)])},staticRenderFns:[]}},527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(497),a=n.n(i);t.default={data:function(){return{noCompany:!0,subComp:{},subCompOption:[],pattern:{},PotionIdCode:null,IndustryAxis:{},PositionID:{},titleMsg:"",version:"",compID:{},compOption:{},patternOption:[{value:"Company",label:"公司"},{value:"Label",label:"标题"}],envMsg:{},Url:"",intialNum:1,options:[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5},{value:6,label:6},{value:7,label:7}],envOption:this.envOption,UrlDisabled:!1,VersionDisabled:!1,EnvDisabled:!1,patternTilte:"名称",TitleDisabled:!1}},created:function(){var e=this;1==e.$store.getters.user.grade?(this.compID={compCode:e.$store.getters.user.company.comp_code,compId:e.$store.getters.user.company.id,compName:e.$store.getters.user.company.comp_name},e.compOption[0]=this.compID):0==e.$store.getters.user.grade&&e.$Ajax.post(e.Host+"/sevenStarController/getAllCompany",{}).then(function(t){e.compOption=t.data.data}).catch(function(e){})},methods:{selectComp:function(e){},selectCompMsg:function(e){var t=this;"Company"==this.pattern.value&&this.$Ajax.post(this.Host+"/sevenStarController/getAllSubCompany",{compId:e.compId}).then(function(e){t.subCompOption=e.data.data,t.subComp={}}).catch(function(e){})},selectPositionID:function(e,t){var n=this;if(this.compID.compCode)if(this.IndustryAxis.value){if(!this.version)return void this.$message({message:"请先输入版本",type:"warning",duration:this.$duration});this.$Ajax.post(this.Host+"/sevenStarController/isPosIdExist",{orgName:this.compID.compCode,posId:e,industryId:this.IndustryAxis.value,confType:this.pattern.value,env:this.envMsg.value,version:this.version}).then(function(e){0==e.data.code?(n.$message({message:e.data.msg,type:0==e.data.code?"warning":"success",duration:n.$duration}),n.PotionIdCode=0):(n.PotionIdCode=1,t&&t())}).catch(function(e){})}else this.$message({message:"请先选择产业轴位置",type:"warning",duration:this.$duration,onClose:function(){n.intialNum=1}});else this.$message({message:"请先选择企业信息",type:"warning",duration:this.$duration,onClose:function(){n.intialNum=1}})},selectPattern:function(e){var t=this;"URL"==e.value?(this.UrlDisabled=!1,this.VersionDisabled=!0,this.EnvDisabled=!0):"Company"==e.value?(this.UrlDisabled=!1,this.VersionDisabled=!1,this.EnvDisabled=!1,this.noCompany=!1,this.$Ajax.post(this.Host+"/sevenStarController/getAllSubCompany",{compId:this.compID.compId}).then(function(e){t.subCompOption=e.data.data}).catch(function(e){})):"Label"==e.value&&(this.UrlDisabled=!0,this.VersionDisabled=!1,this.EnvDisabled=!1,this.noCompany=!0,this.TitleDisabled=!1,this.subComp={},this.subCompOption=[])},urlFocus:function(){var e=this;e.pattern.value||this.$message({message:"请先选择类型",type:"warning",duration:1e3,onClose:function(){e.TitleDisabled=!0,e.titleMsg=""}})},versionFocus:function(){var e=this;e.pattern.value||this.$message({message:"请先选择类型",type:"warning",duration:1e3,onClose:function(){e.version="",e.VersionDisabled=!0}})},selectEnv:function(){},configConfirm:function(){var e=this,t=this;return this.compID.compName?t.IndustryAxis.value?t.pattern.value?"Label"!=t.pattern.value||t.titleMsg?"Company"!=t.pattern.value||t.subComp.compName?t.version.trim()?t.titleMsg.length>10?void this.$message({message:"填入的名称过长，不能超过10位",type:"warning",duration:t.$duration}):void("Label"==t.pattern.value?this.$Ajax.post(this.Host+"/sevenStarController/isOnlyLabelExist",{orgName:this.compID.compCode,industryId:this.IndustryAxis.value,confType:this.pattern.value,env:this.envMsg.value,version:t.version}).then(function(n){0==n.data.code?e.$message({message:n.data.msg,type:"warning",duration:t.$duration}):t.selectPositionID(t.intialNum,function(){t.getAddSevenSuccess()})}).catch(function(e){alert(e)}):"Company"==t.pattern.value&&t.selectPositionID(t.intialNum,function(){t.getAddSevenSuccess()})):void this.$message({message:"请先填入版本",type:"warning",duration:t.$duration}):void this.$message({message:"请先选择子公司",type:"warning",duration:t.$duration}):void this.$message({message:"请先填入标题",type:"warning",duration:t.$duration}):void this.$message({message:"请先选择类型",type:"warning",duration:t.$duration}):void this.$message({message:"请先输入产业轴ID",type:"warning",duration:t.$duration}):void this.$message({message:"请先选择集团信息",type:"warning",duration:t.$duration})},getAddSevenSuccess:function(){var e=this;e.$Ajax.post(e.Host+"/sevenStarController/addSevenStar",{orgName:e.compID.compCode,industryId:e.IndustryAxis.value,posId:e.intialNum,popName:e.titleMsg,subCompName:"Company"==e.pattern.value?e.subComp.compName:"Default",confType:e.pattern.value,subCompCode:"Company"==e.pattern.value?e.subComp.compCode:"Default",version:e.version,env:e.envMsg.value}).then(function(t){e.$message({message:t.data.msg,type:0==t.data.code?"warning":"success",duration:e.$duration,onClose:function(){1==t.data.code&&e.$router.push({path:"/sevenStarList"})}})}).catch(function(e){})},cancel:function(){this.$router.push({path:"/sevenStarList"})}},components:{configheader:a.a},watch:{}}},537:function(e,t,n){t=e.exports=n(187)(!0),t.push([e.i,".configAddHeader[data-v-3c3e8534]{text-align:left;margin-left:10px;margin-bottom:10px}.configAdd li[data-v-3c3e8534]{padding:10px}.configAdd li>div[data-v-3c3e8534]{float:left;padding-left:10px;line-height:36px}.configAdd li>div[data-v-3c3e8534]:first-of-type{min-width:100px;text-align:right;padding-left:30px;margin-right:15px;font-size:14px}.configAdd li>div[data-v-3c3e8534]:last-of-type{width:300px}.configAdd li>div:last-of-type>div[data-v-3c3e8534]{width:100%}.block[data-v-3c3e8534]{text-align:left;margin-left:40px;margin-top:10px}","",{version:3,sources:["D:/projectLY/frameWork1.0/src/components/sevenStar/sevenStarAdd.vue"],names:[],mappings:"AACA,kCACE,gBAAiB,AACjB,iBAAkB,AAClB,kBAAoB,CACrB,AACD,+BACE,YAAc,CACf,AACD,mCACI,WAAY,AACZ,kBAAmB,AACnB,gBAAkB,CACrB,AACD,iDACI,gBAAiB,AACjB,iBAAkB,AAClB,kBAAmB,AACnB,kBAAmB,AACnB,cAAgB,CACnB,AACD,gDACI,WAAa,CAChB,AACD,oDACM,UAAY,CACjB,AACD,wBACE,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CAClB",file:"sevenStarAdd.vue",sourcesContent:["\n.configAddHeader[data-v-3c3e8534] {\n  text-align: left;\n  margin-left: 10px;\n  margin-bottom: 10px;\n}\n.configAdd li[data-v-3c3e8534] {\n  padding: 10px;\n}\n.configAdd li > div[data-v-3c3e8534] {\n    float: left;\n    padding-left: 10px;\n    line-height: 36px;\n}\n.configAdd li > div[data-v-3c3e8534]:first-of-type {\n    min-width: 100px;\n    text-align: right;\n    padding-left: 30px;\n    margin-right: 15px;\n    font-size: 14px;\n}\n.configAdd li > div[data-v-3c3e8534]:last-of-type {\n    width: 300px;\n}\n.configAdd li > div:last-of-type > div[data-v-3c3e8534] {\n      width: 100%;\n}\n.block[data-v-3c3e8534] {\n  text-align: left;\n  margin-left: 40px;\n  margin-top: 10px;\n}\n"],sourceRoot:""}])},550:function(e,t,n){var i=n(537);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(479)("9b631552",i,!0)},567:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("configheader",{attrs:{title:"添加配置"}}),e._v(" "),n("ul",{staticClass:"configAdd"},[n("li",{staticClass:"clearfix"},[n("div",[e._v("集团名称")]),e._v(" "),n("div",[n("el-select",{attrs:{placeholder:"请选择集团名称"},on:{change:e.selectCompMsg},model:{value:e.compID,callback:function(t){e.compID=t},expression:"compID"}},e._l(e.compOption,function(e){return n("el-option",{key:e.compId,attrs:{label:e.compName,value:e}})}))],1)]),e._v(" "),n("li",{staticClass:"clearfix"},[n("div",[e._v("产业轴ID")]),e._v(" "),n("div",[n("el-select",{attrs:{placeholder:"请选择产业轴ID"},model:{value:e.IndustryAxis,callback:function(t){e.IndustryAxis=t},expression:"IndustryAxis"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e}})}))],1)]),e._v(" "),n("li",{staticClass:"clearfix"},[n("div",[e._v("环境信息")]),e._v(" "),n("div",[n("el-select",{attrs:{placeholder:"请选择环境信息",disabled:e.EnvDisabled},on:{change:e.selectEnv},model:{value:e.envMsg,callback:function(t){e.envMsg=t},expression:"envMsg"}},e._l(e.envOption,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e}})}))],1)]),e._v(" "),n("li",{staticClass:"clearfix"},[n("div",[e._v("类型")]),e._v(" "),n("div",[n("el-select",{attrs:{placeholder:"请选择类型"},on:{change:e.selectPattern},model:{value:e.pattern,callback:function(t){e.pattern=t},expression:"pattern"}},e._l(e.patternOption,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e}})}))],1)]),e._v(" "),n("li",{staticClass:"clearfix"},[n("div",[e._v("版本信息")]),e._v(" "),n("div",[n("el-input",{attrs:{placeholder:"请输入对应版本",disabled:e.VersionDisabled},on:{focus:e.versionFocus},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})],1)]),e._v(" "),n("li",{staticClass:"clearfix"},[n("div",[e._v("位置顺序")]),e._v(" "),n("div",[n("el-input-number",{attrs:{min:1},on:{change:e.selectPositionID},model:{value:e.intialNum,callback:function(t){e.intialNum=t},expression:"intialNum"}})],1)]),e._v(" "),e.noCompany?n("li",{staticClass:"clearfix"},[n("div",[e._v("标题")]),e._v(" "),n("div",[n("el-input",{attrs:{placeholder:"请输入标题名称",disabled:e.TitleDisabled},on:{focus:e.urlFocus},model:{value:e.titleMsg,callback:function(t){e.titleMsg=t},expression:"titleMsg"}})],1)]):e._e(),e._v(" "),e.noCompany?e._e():n("li",{staticClass:"clearfix"},[n("div",[e._v("子公司")]),e._v(" "),n("div",[n("el-select",{attrs:{clearable:"",placeholder:"请选择子公司",disabled:e.UrlDisabled},model:{value:e.subComp,callback:function(t){e.subComp=t},expression:"subComp"}},e._l(e.subCompOption,function(e){return n("el-option",{key:e.compId,attrs:{label:e.compName,value:e}})}))],1)])]),e._v(" "),n("div",{staticClass:"block"},[n("span",{staticClass:"wrapper"},[n("el-button",{attrs:{type:"success"},on:{click:e.configConfirm}},[e._v("确定")]),e._v(" "),n("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)])],1)},staticRenderFns:[]}}});