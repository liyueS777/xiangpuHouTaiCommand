webpackJsonp([1,6],{482:function(t,e,i){function n(t){i(513)}var o=i(188)(i(507),i(516),n,"data-v-cb2c7dae",null);t.exports=o.exports},490:function(t,e,i){function n(t){i(556)}var o=i(188)(i(525),i(573),n,"data-v-f17194c6",null);t.exports=o.exports},494:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},created:function(){},methods:{},props:["title"]}},495:function(t,e,i){e=t.exports=i(187)(!0),e.push([t.i,".configAddHeader{text-align:left;margin-left:10px;margin-bottom:10px}.block{text-align:left;margin-left:40px;margin-top:10px}","",{version:3,sources:["D:/projectLY/frameWork1.0/src/components/common/configHeader.vue"],names:[],mappings:"AACA,iBACE,gBAAiB,AACjB,iBAAkB,AAClB,kBAAoB,CACrB,AACD,OACE,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CAClB",file:"configHeader.vue",sourcesContent:["\n.configAddHeader {\n  text-align: left;\n  margin-left: 10px;\n  margin-bottom: 10px;\n}\n.block {\n  text-align: left;\n  margin-left: 40px;\n  margin-top: 10px;\n}\n"],sourceRoot:""}])},496:function(t,e,i){var n=i(495);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(479)("6c758020",n,!0)},497:function(t,e,i){function n(t){i(496)}var o=i(188)(i(494),i(498),n,null,null);t.exports=o.exports},498:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block configAddHeader"},[i("span",{staticClass:"wrapper"},[i("el-button",{attrs:{type:"info"}},[i("i",{staticClass:"el-icon-edit"}),t._v("\n      "+t._s(t.title)+"\n    ")])],1)])},staticRenderFns:[]}},499:function(t,e,i){"use strict";var n=i(12),o=new n.default;e.a=o},500:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{configUpload:"",mult:!1,fileList:[{url:""}],dialogImageUrl:"",dialogVisible:!1}},created:function(){this.configUpload=this.Host+this.$FileUpload,this.imgUrlFileList?this.fileList=[{url:this.imgUrlFileList}]:this.fileList=[]},mounted:function(){var t=this;t.$nextTick(function(){t.$refs.uploadBox.$children[0].$el.children.length>=1&&(t.$refs.uploadBox.$children[1].$el.style.display="none")})},methods:{handleRemove:function(t,e){var i=this;i.$emit("EmptyImgUrl",""),i.$nextTick(function(){i.$refs.uploadBox.$children[1].$el.style.display="inline-block"})},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleSuccessUpload:function(t){var e=this;"/indexCopy"==this.$route.fullPath&&e.$store.dispatch("onActionChangeIndexCopyImgUrl",t.slice(1)),e.$emit("SendToImgUrl",t.slice(1)),e.$nextTick(function(){e.$refs.uploadBox.$children[0].$el.children.length>=1&&(e.$refs.uploadBox.$children[1].$el.style.display="none",e.$refs.uploadBox.$children[0].$el.style.display="inline-block")}),e.btnIconDir=t.slice(1),e.dialogImageUrl=e.Host+t},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type||"image/gif"===t.type,i=t.size/1024/1024<20;return e||this.$message.error("上传环境地址图片只能是 jpeg/jpg/png/gif 格式!"),i||this.$message.error("上传环境地址图片大小不能超过 20M!"),e&&i}},props:["imgUrlFileList"],watch:{imgUrlFileList:{handler:function(t,e){var i=this;this.fileList=[{url:t}],t?this.$nextTick(function(){i.$refs.uploadBox.$children[0].$el.children.length>=1&&(i.$refs.uploadBox.$children[0].$el.style.display="inline-block",i.$refs.uploadBox.$children[1].$el.style.display="none")}):this.$nextTick(function(){i.$refs.uploadBox.$children[1].$el.style.display="inline-block",i.$refs.uploadBox.$children[0].$children[0].$el.style.display="none"})},deep:!0}}}},501:function(t,e,i){e=t.exports=i(187)(!0),e.push([t.i,".el-upload-dragger{width:100%!important;height:100%!important}.auth-img div.el-upload--picture-card,.auth-img li.el-upload-list__item.is-success{width:100px!important;height:100px!important;line-height:100px}.index-copy div.el-upload--picture-card,.index-copy li.el-upload-list__item.is-success{width:60px!important;height:60px!important;line-height:60px}.el-dialog.el-dialog--tiny{top:30%!important;position:fixed!important;-webkit-transform:translate(-50%)!important;transform:translate(-50%)!important}\n/*!*.el-dialog.el-dialog--tiny:nth-of-type(1){*!*/\n  /*!*top: 10% !important;*!*/\n/*!*}*!*/","",{version:3,sources:["D:/projectLY/frameWork1.0/src/components/common/imgUpload.vue"],names:[],mappings:"AACA,mBACE,qBAAuB,AACvB,qBAAwB,CACzB,AAMD,mFACE,sBAAwB,AACxB,uBAAyB,AACzB,iBAAmB,CACpB,AAMD,uFACE,qBAAuB,AACvB,sBAAwB,AACxB,gBAAkB,CACnB,AACD,2BACE,kBAAoB,AACpB,yBAA2B,AAE3B,4CAA6C,AACrC,mCAAqC,CAC9C;AACD,kDAAkD;EAChD,4BAA4B;AAC9B,SAAS",file:"imgUpload.vue",sourcesContent:["\n.el-upload-dragger{\n  width: 100% !important;\n  height: 100% !important;\n}\n.auth-img div.el-upload--picture-card {\n   width: 100px !important;\n   height: 100px !important;\n   line-height: 100px;\n}\n.auth-img li.el-upload-list__item.is-success {\n  width: 100px !important;\n  height: 100px !important;\n  line-height: 100px;\n}\n.index-copy div.el-upload--picture-card {\n  width: 60px !important;\n  height: 60px !important;\n  line-height: 60px;\n}\n.index-copy li.el-upload-list__item.is-success {\n  width: 60px !important;\n  height: 60px !important;\n  line-height: 60px;\n}\n.el-dialog.el-dialog--tiny {\n  top: 30% !important;\n  position: fixed !important;\n  /*width: 30% !important;*/\n  -webkit-transform:translate(-50%) !important;\n          transform:translate(-50%) !important;\n}\n/*!*.el-dialog.el-dialog--tiny:nth-of-type(1){*!*/\n  /*!*top: 10% !important;*!*/\n/*!*}*!*/\n/*.el-dialog.el-dialog--tiny:nth-of-type(n-1){*/\n  /*top: 30% !important;*/\n/*}*/\n/*.el-dialog.el-dialog--tiny:nth-of-type(n-4){*/\n  /*top: 50% !important;*/\n/*}*/\n/*.el-dialog.el-dialog--tiny:nth-of-type(n-3){*/\n  /*top: 40% !important;*/\n/*}*/\n/*.el-dialog.el-dialog--tiny:nth-of-type(n-4){*/\n  /*top: 70% !important;*/\n/*}*/\n"],sourceRoot:""}])},502:function(t,e,i){var n=i(501);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(479)("42f1628a",n,!0)},503:function(t,e,i){function n(t){i(502)}var o=i(188)(i(500),i(504),n,null,null);t.exports=o.exports},504:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-upload",{ref:"uploadBox",staticClass:"bixbix",attrs:{action:t.configUpload,"list-type":"picture-card",multiple:t.mult,drag:"","file-list":t.fileList,"on-preview":t.handlePictureCardPreview,"before-upload":t.beforeAvatarUpload,"on-remove":t.handleRemove,"on-success":t.handleSuccessUpload}},[i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("img",{staticClass:"img1",attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]}},507:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(497),o=i.n(n),a=i(503),l=i.n(a);e.default={components:{configheader:o.a,imgupload:l.a},data:function(){return{UrlBtnText:this.UrlBtn?"有链接":"无链接",UrlBtn:!0,ifAjax:!1,compNameSubComp:"",EditQuery:{},compID:"",compOption:[],input:"",envMsg:{},ifActive:{},picID:"",posID:{},posMsg:"",picName:"",Url:"",linkUrl:"",params:"",fileList:"",optionID:this.optionApp,optionPcID:this.optionPc,options:this.envOption,options2:[{value:"1",label:"是"},{value:"0",label:"否"}],CurrentEditCompObj:{},CurrentEditEnvObj:{},CurrentEditActiveObj:{},CurrentEditPosIDObj:{}}},created:function(){this.init(this.configEditItem)},watch:{configEditItem:{handler:function(t,e){this.init(t)},deep:!0},envMsg:{handler:function(t,e){var i=this;t.value.indexOf("PC")>-1?this.$nextTick(function(){i.optionID=i.optionPc}):t.value.indexOf("iPad")>-1?this.$nextTick(function(){i.optionID=i.optioniPad}):this.$nextTick(function(){i.optionID=i.optionApp})},deep:!0},UrlBtn:{handler:function(t,e){t?(this.UrlBtnText="有链接",this.linkUrl=this.EditQuery.redirUrl):(this.UrlBtnText="无链接",this.linkUrl="Empty")}}},methods:{emptyImgUrl:function(){this.Url=""},init:function(t){var e=this,i=this;t.appEnvName.indexOf("PC")>-1&&t.btnPosId<=3||t.appEnvName.indexOf("PC")<=-1&&14==t.btnPosId?(i.ifAjax=!0,i.ajaxUrl=t.ajaxUrl):i.ifAjax=!1,this.EditQuery=t,this.fileList=this.Host+"/"+this.EditQuery.btnIconDir+"?"+ +new Date,this.posMsg=this.EditQuery.btnPosDes,this.Url=this.EditQuery.btnIconDir,this.picName=this.EditQuery.btnIconName,this.linkUrl=this.EditQuery.redirUrl,"Empty"==this.EditQuery.redirUrl?(this.UrlBtn=!1,this.UrlBtnText="无链接"):(this.UrlBtn=!0,this.UrlBtnText="有链接"),this.params=this.EditQuery.otherParam,this.EditQuery.appEnvName.indexOf("PC")>-1?this.optionID=this.optionPc:this.EditQuery.appEnvName.indexOf("iPad")>-1?this.optionID=this.optioniPad:this.optionID=this.optionApp,this.CurrentEditEnvObj=this.options.find(function(t,i,n){return t.value==e.EditQuery.appEnvName}),this.CurrentEditActiveObj=this.options2.find(function(t,i,n){return t.value==e.EditQuery.isActived}),this.CurrentEditPosIDObj=this.optionID.find(function(t,i,n){return t.label==e.EditQuery.btnPosId}),this.posID=this.CurrentEditPosIDObj,this.envMsg=this.CurrentEditEnvObj,this.ifActive=this.CurrentEditActiveObj,this.EditQuery.subCompName?this.compNameSubComp=this.EditQuery.compCode+" / "+this.EditQuery.subCompName:this.compNameSubComp=this.EditQuery.compCode},selectActive:function(t){},selectComp:function(t){},editImg:function(t){this.Url=t},EditSuccess:function(){var t=this;if(!this.Url)return void t.$message({message:"图片数据不能为空",type:"warning",duration:t.$duration,showClose:!0});if(!this.linkUrl.trim()&&t.UrlBtn)return void t.$message({message:"链接地址不能为空",type:"warning",duration:t.$duration,showClose:!0});if(this.linkUrl.trim()&&t.UrlBtn&&"Empty"==this.linkUrl)return t.$message({message:"链接地址不能为 Empty ",type:"warning",duration:t.$duration,showClose:!0}),void(this.linkUrl="");var e={id:t.EditQuery.id,appEnvName:t.envMsg.value,isActived:t.ifActive.value,btnPosId:t.posID.label,btnPosDes:t.posMsg,btnIconDir:t.Url.trim(),btnIconName:t.picName,redirUrl:this.UrlBtn?t.linkUrl.trim():"Empty",otherParam:t.params.trim(),compId:t.EditQuery.compId};t.EditQuery.subCompCode&&(e.subCompName=t.EditQuery.subCompName),((t.EditQuery.appEnvName.indexOf("PC")>-1||t.EditQuery.appEnvName.indexOf("iPad")>-1)&&t.EditQuery.btnPosId<=3||(t.EditQuery.appEnvName.indexOf("IOS")>-1||t.EditQuery.appEnvName.indexOf("Android")>-1)&&14==t.EditQuery.btnPosId)&&(null==t.ajaxUrl&&(t.ajaxUrl=""),e.ajaxUrl=t.ajaxUrl.trim()),t.$Ajax.post(t.Host+"/appController/updateApplication",e).then(function(e){t.$message({message:e.data.msg,type:0==e.data.code?"warning":"success",duration:t.$duration,showClose:!0,onClose:function(){1==e.data.code&&t.$emit("configEditSuccess",{code:1})}})}).catch(function(t){})},editCancel:function(){this.$emit("configEditSuccess",{code:0})},urlKeyUp:function(){"EMPTY"==this.linkUrl.trim().toUpperCase()?this.UrlBtn=!1:this.UrlBtn=!0}},props:["configEditItem"]}},510:function(t,e,i){e=t.exports=i(187)(!0),e.push([t.i,".configAddHeader[data-v-cb2c7dae]{text-align:left;margin-left:10px;margin-bottom:10px}.configAdd li[data-v-cb2c7dae]{padding:10px}.configAdd li>div[data-v-cb2c7dae]{float:left;padding-left:10px;line-height:36px}.configAdd li .url[data-v-cb2c7dae]{width:300px}.configAdd li>div[data-v-cb2c7dae]:first-of-type{min-width:100px;text-align:left;padding-left:30px}.configAdd li>div[data-v-cb2c7dae]:last-of-type{width:300px}.configAdd li>div:last-of-type>div[data-v-cb2c7dae],.configAdd li>div:last-of-type>span[data-v-cb2c7dae]{width:100%}.configAdd li>.urlSelect[data-v-cb2c7dae]{text-align:left;width:200px!important}.block[data-v-cb2c7dae]{text-align:left;margin-left:40px;margin-top:10px}","",{version:3,sources:["D:/projectLY/frameWork1.0/src/components/indexConfig/configEdit.vue"],names:[],mappings:"AACA,kCACE,gBAAiB,AACjB,iBAAkB,AAClB,kBAAoB,CACrB,AACD,+BACE,YAAc,CACf,AACD,mCACI,WAAY,AACZ,kBAAmB,AACnB,gBAAkB,CACrB,AACD,oCACI,WAAa,CAChB,AACD,iDACI,gBAAiB,AACjB,gBAAiB,AACjB,iBAAmB,CACtB,AACD,gDACI,WAAa,CAChB,AAID,yGACM,UAAY,CACjB,AACD,0CACI,gBAAiB,AACjB,qBAAwB,CAC3B,AACD,wBACE,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CAClB",file:"configEdit.vue",sourcesContent:["\n.configAddHeader[data-v-cb2c7dae] {\n  text-align: left;\n  margin-left: 10px;\n  margin-bottom: 10px;\n}\n.configAdd li[data-v-cb2c7dae] {\n  padding: 10px;\n}\n.configAdd li > div[data-v-cb2c7dae] {\n    float: left;\n    padding-left: 10px;\n    line-height: 36px;\n}\n.configAdd li .url[data-v-cb2c7dae] {\n    width: 300px;\n}\n.configAdd li > div[data-v-cb2c7dae]:first-of-type {\n    min-width: 100px;\n    text-align: left;\n    padding-left: 30px;\n}\n.configAdd li > div[data-v-cb2c7dae]:last-of-type {\n    width: 300px;\n}\n.configAdd li > div:last-of-type > div[data-v-cb2c7dae] {\n      width: 100%;\n}\n.configAdd li > div:last-of-type > span[data-v-cb2c7dae] {\n      width: 100%;\n}\n.configAdd li > .urlSelect[data-v-cb2c7dae] {\n    text-align: left;\n    width: 200px !important;\n}\n.block[data-v-cb2c7dae] {\n  text-align: left;\n  margin-left: 40px;\n  margin-top: 10px;\n}\n"],sourceRoot:""}])},513:function(t,e,i){var n=i(510);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(479)("51b15128",n,!0)},516:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("configheader",{attrs:{title:"编辑配置"}}),t._v(" "),i("ul",{staticClass:"configAdd"},[i("li",{staticClass:"clearfix"},[i("div",[t._v("企业编码")]),t._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入企业信息",disabled:""},model:{value:t.compNameSubComp,callback:function(e){t.compNameSubComp=e},expression:"compNameSubComp"}})],1)]),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("环境信息")]),t._v(" "),i("div",[i("el-select",{attrs:{placeholder:"请选择环境信息",disabled:""},model:{value:t.envMsg,callback:function(e){t.envMsg=e},expression:"envMsg"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t}})}))],1)]),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("是否显示")]),t._v(" "),i("div",[i("el-select",{attrs:{placeholder:"请选择是否激活"},on:{change:t.selectActive},model:{value:t.ifActive,callback:function(e){t.ifActive=e},expression:"ifActive"}},t._l(t.options2,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t}})}))],1)]),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("位置ID")]),t._v(" "),i("div",[i("el-select",{attrs:{placeholder:"请选择位置",disabled:""},model:{value:t.posID,callback:function(e){t.posID=e},expression:"posID"}},t._l(t.optionID,function(t){return i("el-option",{key:t.value,attrs:{label:t.value,value:t}})}))],1)]),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("位置说明")]),t._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.posMsg,callback:function(e){t.posMsg=e},expression:"posMsg"}})],1)]),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("图片地址")]),t._v(" "),i("imgupload",{attrs:{imgUrlFileList:t.fileList},on:{SendToImgUrl:t.editImg,EmptyImgUrl:t.emptyImgUrl}})],1),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("图片名称")]),t._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入图片名称"},model:{value:t.picName,callback:function(e){t.picName=e},expression:"picName"}})],1)]),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("Url地址")]),t._v(" "),i("div",{staticClass:"url"},[i("el-input",{attrs:{placeholder:"请输入链接地址"},nativeOn:{keyup:function(e){t.urlKeyUp(e)}},model:{value:t.linkUrl,callback:function(e){t.linkUrl=e},expression:"linkUrl"}})],1),t._v(" "),i("div",{staticClass:"urlSelect"},[i("el-switch",{attrs:{"on-color":"#13ce66","off-color":"#ff4949","on-text":"","off-text":""},model:{value:t.UrlBtn,callback:function(e){t.UrlBtn=e},expression:"UrlBtn"}}),t._v(" "),i("span",[t._v(t._s(t.UrlBtnText))])],1)]),t._v(" "),t.ifAjax?i("li",{staticClass:"clearfix"},[i("div",[t._v("接口地址")]),t._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入相关接口地址"},model:{value:t.ajaxUrl,callback:function(e){t.ajaxUrl=e},expression:"ajaxUrl"}})],1)]):t._e(),t._v(" "),i("li",{staticClass:"clearfix"},[i("div",[t._v("相关参数")]),t._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入参数信息"},model:{value:t.params,callback:function(e){t.params=e},expression:"params"}})],1)])]),t._v(" "),i("div",{staticClass:"block"},[i("span",{staticClass:"wrapper"},[i("el-button",{attrs:{type:"success"},on:{click:t.EditSuccess}},[t._v("确定")]),t._v(" "),i("el-button",{attrs:{type:"info"},on:{click:t.editCancel}},[t._v("取消")])],1)])],1)},staticRenderFns:[]}},525:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(499),o=i(482),a=i.n(o);e.default={data:function(){return{version:"",compOption:{},pageShow:!1,currentPage:1,pageSize:10,total:null,loading:!0,options:this.envOption,options2:[{value:"1",label:"是"},{value:"0",label:"否"}],envMsg:"",ifActive:"",optionComp:[],optionVersion:[],congigListItem:[],imgUrlPre:this.Host+"/",dialogTableVisible:!1,itemNew:{},itemtitle:"",ChildRenCompany:{},ChildRenCompanyItem:[]}},mounted:function(){},created:function(){var t=this;t.listOff=!0,t.loading=!1,t.version=n.a.version?n.a.version:"",t.ifActive=n.a.ifActive,t.compOption=n.a.compOption,t.envMsg=n.a.envMsg,t.$Ajax.all([t.getComp(),t.getVersion()]).then(t.$Ajax.spread(function(e,i){0==t.$store.getters.user.grade&&(t.optionComp=e.data.data,n.a.compOption&&n.a.compOption.compCode&&(t.compOption=t.optionComp.find(function(t){return t.compCode==n.a.compOption.compCode}))),t.optionVersion=i.data.data,t.version&&t.ifActive&&t.compOption.compId&&t.envMsg&&t.selectCompName(t.compOption,function(){n.a.Subcomp.compCode&&(t.ChildRenCompany=n.a.Subcomp,t.$Ajax.post(t.Host+"/sevenStarController/getAllSubCompany",{compId:t.compOption.compId}).then(function(e){t.ChildRenCompanyItem=e.data.data,t.ChildRenCompany=t.ChildRenCompanyItem.find(function(t){return t.compCode==n.a.Subcomp.compCode})}).catch(function(t){})),t.msgCheck(t.pageSize,t.currentPage)})}))},methods:{changeSort:function(t,e){return t.btnPosId-e.btnPosId>0},close1:function(){this.msgCheck(this.pageSize,this.currentPage)},editFinish:function(t){t.code,this.dialogTableVisible=!1},msgCheck:function(t,e){var i=this;if(i.currentPage=e,!this.compOption.compId)return void this.$message({message:"请先选择企业信息",type:"warning",duration:i.$duration});if(!i.version)return void this.$message({message:"请先输入版本号",type:"warning",duration:i.$duration});if(!i.envMsg)return void this.$message({message:"请先选择环境信息",type:"warning",duration:i.$duration});if(!i.ifActive)return void this.$message({message:"请先选择是否激活状态",type:"warning",duration:i.$duration});n.a.compOption=i.compOption,n.a.version=i.version,n.a.envMsg=i.envMsg,n.a.Subcomp=i.ChildRenCompany,n.a.ifActive=i.ifActive;var o={};o=i.ChildRenCompany.compCode?{appVersion:i.version,appEnvName:i.envMsg,compId:i.compOption.compId,isActived:i.ifActive,pageIndex:e,pageSize:t,subCompCode:i.ChildRenCompany.compCode}:{appVersion:i.version,appEnvName:i.envMsg,compId:i.compOption.compId,isActived:i.ifActive,pageIndex:e,pageSize:t},this.$Ajax.post(this.Host+"/appController/queryPageApplication",o).then(function(t){0==t.data.code?(i.$message({message:t.data.msg,type:0==t.data.code?"warning":"success",duration:1e3,showClose:!0}),i.congigListItem=[]):t.data.data?(i.congigListItem=t.data.data.list,i.total=t.data.data.totalCount,i.pageShow=!0,i.listCurrentEnvObj=i.options.find(function(t,e,n){return t.value==i.envMsg}),i.listCurrentCompObj=i.optionComp.find(function(t,e,n){return t.compId==i.compOption.compId})):(i.congigListItem=[],i.pageShow=!1)}).catch(function(t){})},handleSizeChange:function(t){this.pageSize=t,this.msgCheck(t,this.currentPage)},handleCurrentChange:function(t){this.msgCheck(this.pageSize,t)},selectEnv:function(t){},selectActive:function(t){},deleConfigItem:function(t,e){var i=this;i.$confirm("确定删除?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$Ajax.post(i.Host+"/appController/delApplicationById",{id:e.id,compId:e.compId}).then(function(t){i.$message({type:1==t.data.code?"success":"error",message:t.data.msg,duration:i.$duration,onClose:function(){i.msgCheck(i.pageSize,i.currentPage)}})}).catch(function(t){})}).catch(function(){i.$message({type:"info",message:"已取消删除",duration:i.$duration})})},editConfigItem:function(t,e){this.itemNew=e,this.dialogTableVisible=!0},getComp:function(){var t=this;return 1==t.$store.getters.user.grade?(this.compOption={compCode:t.$store.getters.user.company.comp_code,compId:t.$store.getters.user.company.id,compName:t.$store.getters.user.company.comp_name},t.optionComp[0]=t.compOption,t.selectCompName(t.compOption),!1):0==t.$store.getters.user.grade?t.$Ajax.post(t.Host+"/sevenStarController/getAllCompany",{}):void 0},getVersion:function(){var t=this;return t.$Ajax.post(t.Host+"/appController/getAllVersion",{})},selectCompName:function(t,e){var i=this;i.$Ajax.post(i.Host+"/sevenStarController/getAllSubCompany",{compId:t.compId}).then(function(t){1==t.data.code&&0!=t.data.data.length&&e&&e(),i.ChildRenCompanyItem=t.data.data,i.ChildRenCompany={}}).catch(function(t){})}},components:{configedit:a.a}}},543:function(t,e,i){e=t.exports=i(187)(!0),e.push([t.i,".configCheck[data-v-f17194c6]{display:inline-block;margin-bottom:20px}td .cell span .el-tag[data-v-f17194c6]:not(.userAuth){overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;background-color:#c0c5cc}td .cell span .el-tag.userAuth[data-v-f17194c6]{display:block;margin-top:2px;margin-bottom:1px}td .cell span div[data-v-f17194c6]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.configListPage[data-v-f17194c6]{margin-top:20px;text-align:center}","",{version:3,sources:["D:/projectLY/frameWork1.0/src/components/indexConfig/configlist.vue"],names:[],mappings:"AACA,8BACE,qBAAsB,AACtB,kBAAoB,CACrB,AACD,sDACE,gBAAiB,AACjB,uBAAwB,AACxB,mBAAoB,AACpB,WAAY,AACZ,wBAA0B,CAC3B,AACD,gDACE,cAAe,AACf,eAAgB,AAChB,iBAAmB,CACpB,AACD,mCACE,gBAAiB,AACjB,uBAAwB,AACxB,mBAAoB,AACpB,UAAY,CACb,AACD,iCACE,gBAAiB,AACjB,iBAAmB,CACpB",file:"configlist.vue",sourcesContent:["\n.configCheck[data-v-f17194c6] {\n  display: inline-block;\n  margin-bottom: 20px;\n}\ntd .cell span .el-tag[data-v-f17194c6]:not(.userAuth) {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n  background-color: #c0c5cc;\n}\ntd .cell span .el-tag.userAuth[data-v-f17194c6] {\n  display: block;\n  margin-top: 2px;\n  margin-bottom: 1px;\n}\ntd .cell span div[data-v-f17194c6] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n}\n.configListPage[data-v-f17194c6] {\n  margin-top: 20px;\n  text-align: center;\n}\n"],sourceRoot:""}])},556:function(t,e,i){var n=i(543);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(479)("2a24a206",n,!0)},573:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"company"},[i("el-select",{staticClass:"configSelect1",attrs:{placeholder:"请选择企业"},on:{change:t.selectCompName},model:{value:t.compOption,callback:function(e){t.compOption=e},expression:"compOption"}},t._l(t.optionComp,function(t,e){return i("el-option",{key:e.compId,attrs:{label:t.compName,value:t}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择子公司信息",clearable:""},model:{value:t.ChildRenCompany,callback:function(e){t.ChildRenCompany=e},expression:"ChildRenCompany"}},t._l(t.ChildRenCompanyItem,function(t){return i("el-option",{key:t.compId,attrs:{label:t.compName,value:t}})})),t._v(" "),i("el-select",{staticClass:"configSelect1",attrs:{placeholder:"请选择版本"},on:{change:t.selectEnv},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.optionVersion,function(t,e){return i("el-option",{key:t.index,attrs:{label:t.index,value:t}})})),t._v(" "),i("el-select",{staticClass:"configSelect1",attrs:{placeholder:"请选择环境"},on:{change:t.selectEnv},model:{value:t.envMsg,callback:function(e){t.envMsg=e},expression:"envMsg"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-select",{staticClass:"configSelect1",attrs:{placeholder:"请选择激活状态"},on:{change:t.selectActive},model:{value:t.ifActive,callback:function(e){t.ifActive=e},expression:"ifActive"}},t._l(t.options2,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("div",{staticClass:"block configCheck"},[i("span",{staticClass:"wrapper"},[i("el-button",{attrs:{type:"info"},on:{click:function(e){t.msgCheck(t.pageSize,1)}}},[t._v("查询")])],1)]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.congigListItem,border:"","empty-text":" "}},[i("el-table-column",{attrs:{label:"企业编码",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.subCompName?e.row.subCompName:e.row.compCode))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("span",[t._v(t._s(e.row.subCompName?e.row.subCompName:e.row.compCode))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"版本",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.appVersion))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"环境信息",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.listCurrentEnvObj.label))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"是否激活",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(0==e.row.isActived?"否":"是"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"位置",sortable:"",prop:"position","sort-method":t.changeSort,width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.btnPosId))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"位置说明",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.btnPosDes?e.row.btnPosDes:"暂无"))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("span",[t._v(t._s(e.row.btnPosDes?e.row.btnPosDes:"暂无"))])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"图片地址",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(t.imgUrlPre+e.row.btnIconDir))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("el-tag",[t._v(t._s(t.imgUrlPre+e.row.btnIconDir))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"图标位置名称",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.btnIconName))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("el-tag",[t._v(t._s(e.row.btnIconName))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"URL链接",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.redirUrl))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("el-tag",[t._v(t._s(e.row.redirUrl))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"接口配置",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.ajaxUrl?e.row.ajaxUrl:"暂无"))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("el-tag",[t._v(t._s(e.row.ajaxUrl?e.row.ajaxUrl:"暂无"))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"参数",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.otherParam?e.row.otherParam:"暂无"))]),t._v(" "),i("div",{staticClass:"name-wrapper",slot:"reference"},[i("el-tag",[t._v(t._s(e.row.otherParam?e.row.otherParam:"暂无"))])],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.editConfigItem(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){t.deleConfigItem(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e},close:t.close1}},[i("configedit",{attrs:{configEditItem:t.itemNew},on:{configEditSuccess:t.editFinish}})],1),t._v(" "),t.pageShow?i("div",{staticClass:"block configListPage"},[i("el-pagination",{staticClass:"pageChange",attrs:{"current-page":t.currentPage,"page-sizes":[6,10,20,50],"page-size":t.pageSize,layout:"total,sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1):t._e()],1)},staticRenderFns:[]}}});